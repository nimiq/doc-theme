<!doctype html>
<html lang="{{ site.lang | default: " en-US " }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <meta name="viewport" content="initial-scale=1, width=device-width">
</head>

<body>
    <main>
        <section>
            <a href="#nav" id="nav-button">
             >    <svg fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0h24v24H0z" fill="none" />
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                </svg>
            </a>
            <a href="{{ site.github.repository_url }}/edit/master/{{ page.path }}" target="_blank" class="improve-me">
                <svg fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" />
                    <path d="M0 0h24v24H0z" fill="none" />
                </svg>
            </a>
            {{ content }}
        </section>
    </main>
    <aside id="nav">
        <header>
            <a href="{{ site.baseurl }}/" class="logo">
                <h1>{{ site.title | default: site.github.repository_name }}</h1>
                <p>{{ site.description | default: site.github.project_tagline }}</p>
            </a>
        </header>
        <nav>
          {% assign firstSubmodule = true %}

          {% assign min = 0 %}
          {% assign current = 0 %}
          {% assign pages = site.pages %}
          {% assign done = "" %}

          {% for node in site.pages %}
            {% assign min = 1000 %}
            {% assign doneList = done | split: "," %}
            {% for node in pages %}
              {% if node.dir.size < min %}
                  {% unless doneList contains node.path %}
                    {% assign current = node %}
                    {% assign min = current.dir.size %}
                {% endunless %}
              {% endif %}
            {% endfor %}

            {% capture done %} {{ done }},{{ current.path }}{% endcapture %}
            {% assign levels = current.path | split: "/" %}

            <pre> {{ levels.size }} </pre>

            {% if levels.size < 3 %}
              {% include toc.html html=current.content url=current.url h_max=2 %}
            {% else %}
              moo {{ current.title }}
            {% endif %}
          {% endfor %}
        </nav>
    </aside>
    <a href="#" id="nav-backdrop"></a>
</body>

</html>
